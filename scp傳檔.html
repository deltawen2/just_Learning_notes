<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>scp傳檔.md</title>
  <link rel="stylesheet" href="https://stackedit.cn/style.css" />
  <style type="text/css">
    .app--dark {
      background-color: #444;
    }
    .app--dark .stackedit__html {
      padding-left: 0;
      padding-right: 0;
    }
    .app--dark .stackedit__content {
      padding: 1px 20px 20px;
    }
    
  </style>
</head>

<body class="stackedit app--dark">
  <div class="stackedit__left">
    <div class="stackedit__toc">
      
<ul>
<li><a href="#scp（secure-copy-protocol）是基於ssh的一種安全文件傳輸方式">SCP（Secure Copy Protocol）是基於SSH的一種安全文件傳輸方式</a>
<ul>
<li><a href="#ubuntu-和-openwrt-使用-scp-互相傳送檔案">Ubuntu 和 OpenWrt 使用 SCP 互相傳送檔案</a></li>
</ul>
</li>
</ul>

    </div>
  </div>
  <div class="stackedit__right">
    <div class="stackedit__html">
      <div class="stackedit__content preview-theme--default">
        <h1 id="scp（secure-copy-protocol）是基於ssh的一種安全文件傳輸方式"><span class="prefix"></span><span class="content">SCP（Secure Copy Protocol）是基於SSH的一種安全文件傳輸方式</span><span class="suffix"></span></h1>
<h2 id="ubuntu-和-openwrt-使用-scp-互相傳送檔案"><span class="prefix"></span><span class="content">Ubuntu 和 OpenWrt 使用 SCP 互相傳送檔案</span><span class="suffix"></span></h2>
<h3 id="ubuntu-作為發送方或接收方"><span class="prefix"></span><span class="content">Ubuntu (作為發送方或接收方)</span><span class="suffix"></span></h3>
<blockquote>
<p>需要安裝的套件</p>
<blockquote>
<p><strong><code>openssh-client</code></strong>: SCP 客戶端<br>
<strong><code>openssh-server</code></strong>: SCP 服務器端</p>
</blockquote>
</blockquote>
<pre class=" language-bash"><code class="prism  language-bash"><span class="token function">sudo</span> apt update
<span class="token function">sudo</span> apt <span class="token function">install</span> openssh-server openssh-client

</code></pre>
<blockquote>
<p>安裝 <code>openssh-server</code> 後，SSH 服務通常會自動啟動。你可以通過以下命令檢查其狀態：</p>
</blockquote>
<pre class=" language-bash"><code class="prism  language-bash"><span class="token function">sudo</span> systemctl status <span class="token function">ssh</span>
</code></pre>
<blockquote>
<p>如果服務未運行，可以手動啟動：</p>
</blockquote>
<pre class=" language-bash"><code class="prism  language-bash"><span class="token function">sudo</span> systemctl start <span class="token function">ssh</span>
</code></pre>
<h3 id="openwrt-作為發送方或接收方"><span class="prefix"></span><span class="content">OpenWrt (作為發送方或接收方)</span><span class="suffix"></span></h3>
<pre class=" language-bash"><code class="prism  language-bash">opkg update
<span class="token comment"># 或者，如果只需要 scp 命令，可能會有更小的獨立 scp 包 </span>
<span class="token comment"># opkg install scp</span>
opkg <span class="token function">install</span> openssh-client
<span class="token comment">#安裝 openssh-sftp-server (可選，如果 Dropbear 不夠用)</span>
opkg <span class="token function">install</span> openssh-sftp-server

</code></pre>
<h4 id="scp-傳送檔案範例"><span class="prefix"></span><span class="content">SCP 傳送檔案範例</span><span class="suffix"></span></h4>
<blockquote>
<p>假設 Ubuntu 的 IP 是 <code>192.168.1.100</code><br>
OpenWrt 的 IP 是 <code>192.168.1.1</code><br>
用戶名都假設為 <code>root</code></p>
</blockquote>
<pre class=" language-bash"><code class="prism  language-bash"><span class="token comment">#傳送檔案</span>
<span class="token function">scp</span> /path/to/your/local/file.txt root@192.168.1.1:/path/on/openwrt/
<span class="token comment">#接收檔案</span>
<span class="token function">scp</span> root@192.168.1.1:/path/on/openwrt/file.txt /path/to/your/local/
<span class="token comment">#接收到當前目錄就用.</span>
<span class="token function">scp</span> root@192.168.1.1:/path/on/openwrt/file.txt <span class="token keyword">.</span>

</code></pre>

      </div>
    </div>
  </div>
</body>

</html>
